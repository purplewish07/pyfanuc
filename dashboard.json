{
  "__inputs": [
    {
      "name": "DS_MYSQL",
      "label": "MySQL",
      "description": "",
      "type": "datasource",
      "pluginId": "mysql",
      "pluginName": "MySQL"
    }
  ],
  "__requires": [
    {
      "type": "panel",
      "id": "advantech-common-switch-panel",
      "name": "Common Switch Panel",
      "version": "1.0.23"
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "3.0.21.9"
    },
    {
      "type": "datasource",
      "id": "mysql",
      "name": "MySQL",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "natel-discrete-panel",
      "name": "Discrete",
      "version": "1.1.1"
    }
  ],
  "advantechSchemaVersion": 2,
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": false,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "borderRadiusValue": "Default",
  "borderShadowGradientData": "Default",
  "dashGirdColLevel": 1,
  "dashNoTopPadding": false,
  "dashboardPanelBorderColor": "",
  "dashboardPanelBorderSquareRadiusColor": "",
  "dashboardPanelBorderStyle": "",
  "dashboardPanelBorderWidth": "",
  "dashboardPanelColorScheme": "Default",
  "dashboardPanelGradientColor": "",
  "dashboardPanelPillarColor": "",
  "dashboardPanelShadow": false,
  "dashboardPanelTitleGradientColor": "",
  "dashboardPanelTitleScheme": "Default",
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": null,
  "iteration": 1653005224814,
  "linkOneLineShow": false,
  "links": [],
  "mobileAuto": false,
  "mobileUpgraded": true,
  "panelLanguage": "en-US",
  "panels": [
    {
      "commonFontColor": "",
      "commonFontSize": "90%",
      "commonSwitchVersion": 1,
      "commonTitle": "",
      "commonVarArray": [
        {
          "name": "machine"
        }
      ],
      "commonVarName": "machine",
      "commoneTitleAdjFontSize": true,
      "createUid": "9035d9c5-9023-3d7c-e6b8-509ff6d05e55",
      "datasource": "${DS_MYSQL}",
      "dateMode": "yyyy/MM/dd",
      "dayFromShift": 8,
      "dayFromType": "hour",
      "dayToShift": 8,
      "dayToType": "hour",
      "gridPos": {
        "h": 2,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "i18n": {
        "en-US": {
          "commonFontSize": "90%",
          "commonTitle": ""
        }
      },
      "id": 9,
      "mode": "NormalVariable",
      "noBeyond": false,
      "options": {},
      "panelGradientEndColor": "",
      "panelPillarColor": "",
      "panelStartGradientColor": "",
      "panelTitleScheme": "Default",
      "queryDate": "",
      "refreshInView": false,
      "storePanelTitlePro": "rgba(0,0,0,0)",
      "tableData": "",
      "targets": [
        {
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT 1",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "id"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "ae1",
          "timeColumn": "date",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "timeFrom": null,
      "timeMode": "Custome TimeRange",
      "timeRangeEnable": true,
      "timeShift": null,
      "title": "Panel Title",
      "titleBgColor": "rgba(0,0,0,0)",
      "titleShow": true,
      "transparentRange": 1,
      "trueTime": "Today",
      "type": "advantech-common-switch-panel",
      "updataTime": "",
      "yearFrom": "",
      "yearTo": "",
      "yearandMonthFrom": "This Year/Month",
      "yearandMonthTo": ""
    },
    {
      "FontSize": "80%",
      "FontSizeValue": "140%",
      "adjFontSize": true,
      "backgroundColor": "rgba(128,128,128,0.1)",
      "colorMaps": [
        {
          "color": "rgba(204, 204, 204, 0.2)",
          "text": "N/A"
        },
        {
          "color": "#BED",
          "text": "休息時間"
        },
        {
          "color": "#7eb26d",
          "text": "$1"
        },
        {
          "color": "#ADE",
          "text": "$2"
        },
        {
          "color": "#CBE",
          "text": "$3"
        },
        {
          "color": "rgba(0, 0, 0, 0.45)",
          "text": "$9"
        },
        {
          "color": "#CA95E5",
          "text": "$90"
        },
        {
          "color": "#CAC",
          "text": "$91"
        },
        {
          "color": "#FADE2A",
          "text": "$92"
        },
        {
          "color": "#EDA",
          "text": "$93"
        },
        {
          "color": "#FF7383",
          "text": "$94"
        },
        {
          "color": "#AD0317",
          "text": "$95"
        },
        {
          "color": "#F2495C",
          "text": "$96"
        },
        {
          "color": "#C4162A",
          "text": "$97"
        },
        {
          "color": "#8AB8FF",
          "text": "$98"
        },
        {
          "color": "#CBD",
          "text": "$99"
        },
        {
          "color": "#1250B0",
          "text": "$100"
        },
        {
          "color": "#DAB",
          "text": "$101"
        },
        {
          "color": "#EED",
          "text": "$102"
        },
        {
          "color": "#ACE",
          "text": "$103"
        },
        {
          "color": "#CAC",
          "text": "$104"
        },
        {
          "color": "#BAC",
          "text": "$105"
        },
        {
          "color": "#BEA",
          "text": "$106"
        },
        {
          "color": "#DAB",
          "text": "$107"
        },
        {
          "color": "#ADE",
          "text": "$108"
        },
        {
          "color": "#CEC",
          "text": "$109"
        },
        {
          "color": "#ADD",
          "text": "$110"
        }
      ],
      "createUid": "89e46ae1-8434-083b-241a-8031b3f105bb",
      "crosshairColor": "#8F070C",
      "customInterval": "",
      "datasource": "${DS_MYSQL}",
      "display": "timeline",
      "expandFromQueryS": 0,
      "extendLastValue": true,
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 2
      },
      "hideTimeOverride": false,
      "highlightOnMouseover": true,
      "i18n": {
        "en-US": {
          "FontSize": "80%",
          "FontSizeValue": "140%",
          "title": "機台稼動",
          "titleFontSize": "100%"
        }
      },
      "id": 4,
      "legendSortBy": "-ms",
      "lineColor": "rgba(0,0,0,0.1)",
      "links": [
        {
          "targetBlank": true,
          "title": "${machine:raw}",
          "url": "https://192.168.2.3:3000/dashboard/db/${machine:raw}?orgId=2"
        }
      ],
      "metricNameColor": "#000000",
      "nullValue": true,
      "options": {},
      "panelGradientEndColor": "",
      "panelPillarColor": "",
      "panelStartGradientColor": "",
      "panelTitleScheme": "Default",
      "rangeMaps": [
        {
          "from": "500",
          "i18n": {
            "en-US": {
              "text": "休息時間"
            }
          },
          "text": "休息時間",
          "to": "700"
        }
      ],
      "refreshInView": false,
      "repeat": "machine",
      "repeatDirection": "v",
      "rowHeight": 170,
      "showDistinctCount": false,
      "showLegend": true,
      "showLegendCounts": true,
      "showLegendNames": true,
      "showLegendPercent": true,
      "showLegendTime": true,
      "showLegendValues": true,
      "showTimeAxis": true,
      "showTransitionCount": false,
      "targets": [
        {
          "DataType": "0",
          "Name": "select tag",
          "NodeName": "select node",
          "datasource": "${DS_MYSQL}",
          "datasourceType": "data log",
          "format": "time_series",
          "group": [],
          "metricColumn": "name",
          "rawQuery": true,
          "rawSql": "SELECT\n  date_add(date,INTERVAL -8 hour) AS \"time\",\n  $machine as Metric,\n  value\nFROM ${machine:raw}\nWHERE\n  $__timeFilter(date)\nORDER BY date",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "ai4",
          "timeColumn": "date",
          "timeColumnType": "timestamp",
          "type": "timeserie",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        },
        {
          "format": "time_series",
          "group": [],
          "metricColumn": "none",
          "rawQuery": true,
          "rawSql": "SELECT\n  date_add(date,INTERVAL -8 hour) AS \"time\",\n  'planed' as Metric,\n  value\nFROM schedule_raw\nWHERE\n  $__timeFilter(date) and name = $machine\nORDER BY date",
          "refId": "B",
          "select": [
            [
              {
                "params": [
                  "id"
                ],
                "type": "column"
              }
            ]
          ],
          "table": "ae1",
          "timeColumn": "date",
          "timeColumnType": "timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "textSize": 24,
      "textSizeTime": 14,
      "timeFrom": null,
      "timeShift": null,
      "timeTextColor": "#d8d9da",
      "title": "機台稼動",
      "titleFontSize": "100%",
      "titleShow": false,
      "transparentRange": 1,
      "type": "natel-discrete-panel",
      "units": "short",
      "valueMaps": [
        {
          "i18n": {
            "en-US": {
              "text": "N/A"
            }
          },
          "op": "=",
          "text": "N/A",
          "value": "null"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$1"
            }
          },
          "op": "=",
          "text": "$1",
          "value": "1"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$2"
            }
          },
          "op": "=",
          "text": "$2",
          "value": "2"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$3"
            }
          },
          "op": "=",
          "text": "$3",
          "value": "3"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$9"
            }
          },
          "op": "=",
          "text": "$9",
          "value": "9"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$90"
            }
          },
          "op": "=",
          "text": "$90",
          "value": "90"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$91"
            }
          },
          "op": "=",
          "text": "$91",
          "value": "91"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$92"
            }
          },
          "op": "=",
          "text": "$92",
          "value": "92"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$93"
            }
          },
          "op": "=",
          "text": "$93",
          "value": "93"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$94"
            }
          },
          "op": "=",
          "text": "$94",
          "value": "94"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$95"
            }
          },
          "op": "=",
          "text": "$95",
          "value": "95"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$96"
            }
          },
          "op": "=",
          "text": "$96",
          "value": "96"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$97"
            }
          },
          "op": "=",
          "text": "$97",
          "value": "97"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$98"
            }
          },
          "op": "=",
          "text": "$98",
          "value": "98"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$99"
            }
          },
          "op": "=",
          "text": "$99",
          "value": "99"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$100"
            }
          },
          "op": "=",
          "text": "$100",
          "value": "100"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$101"
            }
          },
          "op": "=",
          "text": "$101",
          "value": "101"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$102"
            }
          },
          "op": "=",
          "text": "$102",
          "value": "102"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$103"
            }
          },
          "op": "=",
          "text": "$103",
          "value": "103"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$104"
            }
          },
          "op": "=",
          "text": "$104",
          "value": "104"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$105"
            }
          },
          "op": "=",
          "text": "$105",
          "value": "105"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$106"
            }
          },
          "op": "=",
          "text": "$106",
          "value": "106"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$107"
            }
          },
          "op": "=",
          "text": "$107",
          "value": "107"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$108"
            }
          },
          "op": "=",
          "text": "$108",
          "value": "108"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$109"
            }
          },
          "op": "=",
          "text": "$109",
          "value": "109"
        },
        {
          "i18n": {
            "en-US": {
              "text": "$110"
            }
          },
          "op": "=",
          "text": "$110",
          "value": "110"
        }
      ],
      "valueTextColor": "#000000",
      "writeAllValues": false,
      "writeLastValue": false,
      "writeMetricNames": true
    }
  ],
  "recovery": {
    "enter": false
  },
  "refresh": false,
  "refreshButton": false,
  "refreshInView": false,
  "schemaVersion": 21,
  "startingGradientColor": "",
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "allValue": null,
        "canJump": false,
        "controlFlag": false,
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "hide": 2,
        "includeAll": true,
        "label": null,
        "multi": true,
        "name": "machine",
        "openNewTab": false,
        "options": [
          {
            "selected": true,
            "text": "All",
            "value": "$__all"
          },
          {
            "selected": false,
            "text": "mx14",
            "value": "mx14"
          },
          {
            "selected": false,
            "text": "ai4",
            "value": "ai4"
          },
          {
            "selected": false,
            "text": "mj4",
            "value": "mj4"
          }
        ],
        "query": "mx14,ai4,mj4",
        "skipUrlSync": false,
        "type": "custom"
      },
      {
        "allValue": null,
        "canJump": false,
        "controlFlag": true,
        "current": {},
        "datasource": "${DS_MYSQL}",
        "definition": "select concat(name,'|','$',value,'|',status) from status",
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "code",
        "openNewTab": false,
        "options": [],
        "query": "select concat(name,'|','$',value,'|',status) from status",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now/d+8h",
    "to": "now/d+8h"
  },
  "timepicker": {
    "customTimeRange": [],
    "panelTimePicker": [
      "Last 5 minutes",
      "Last 15 minutes",
      "Last 30 minutes",
      "Last 1 hour",
      "Last 3 hours",
      "Last 6 hours",
      "Last 12 hours",
      "Last 24 hours",
      "Last 2 days",
      "Last 7 days",
      "Last 30 days",
      "Last 90 days",
      "Last 6 months",
      "Last 1 year",
      "Last 2 years",
      "Last 5 years",
      "Yesterday",
      "Day before yesterday",
      "This day last week",
      "Previous week",
      "Previous month",
      "Previous year",
      "Today",
      "Today so far",
      "This week",
      "This week so far",
      "This month",
      "This month so far",
      "This year",
      "This year so far"
    ],
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "timezone": "",
  "title": "機台稼動_dev",
  "totalVariableArray": [
    "machine"
  ],
  "uid": "RLei6YmRz",
  "version": 40
}
